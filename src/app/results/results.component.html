<div class="map-log__delay">
  <div>
    <label for="ext-delay">External delay (ms): </label>
    <input [(ngModel)]="outerDelay" class="map-log__delay__input" id="ext-delay" type="number">
  </div>
  <div>
    <label for="int-delay">Internal delay (ms): </label>
    <input [(ngModel)]="innerDelay" class="map-log__delay__input" id="int-delay" type="number">
  </div>
  <button (click)="rerun()"
          class="app-button"
  >Rerun
  </button>
  <div *ngIf="_showHint" class="map-log__delay__hint"
  ><strong>Try to set external delay bigger than internal, try vice versa, try to write equal values and see how result
    will change!</strong></div>

</div>

<div class="map-log__switch">
  Show additional information
  <label class="switch">
    <input (change)="_hideDetails = !_hideDetails"
           type="checkbox"
    >
    <span class="slider round"></span>
  </label>
</div>

<div class="map-log__results">
  <div class="map-log">
    <h1>mergeMap</h1>
    <p *ngFor="let message of mergeMessages; trackBy: trackByFn"
       [class._delivery]="message.type === 'OUT'"
       [class._kitchen]="message.type === 'KITCHEN'"
       [class._store]="message.type === 'IN'"
       class="map-log__message"
    >
      <ng-container *ngIf="message | checkVisibility: _hideDetails">
        {{message.id}}
      </ng-container>
    </p>
  </div>
  <div class="map-log">
    <h1>switchMap</h1>
    <p *ngFor="let message of switchMessages; trackBy: trackByFn"
       [class._delivery]="message.type === 'OUT'"
       [class._kitchen]="message.type === 'KITCHEN'"
       [class._store]="message.type === 'IN'"
       class="map-log__message"
    >
      <ng-container *ngIf="message | checkVisibility: _hideDetails">
        {{message.id}}
      </ng-container>
    </p>
  </div>
  <div class="map-log">
    <h1>map</h1>
    <p *ngFor="let message of mapMessages; trackBy: trackByFn"
       [class._delivery]="message.type === 'OUT'"
       [class._kitchen]="message.type === 'KITCHEN'"
       [class._store]="message.type === 'IN'"
       class="map-log__message"
    >
      <ng-container *ngIf="message | checkVisibility: _hideDetails">
        {{message.id}}
      </ng-container>
    </p>
  </div>
</div>
